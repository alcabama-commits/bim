<!DOCTYPE html>
<html lang="es"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Portal BIM Alcabama</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
<script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#D8005E",
            "background-light": "#FFFFFF",
            "background-dark": "#000000",
            "text-light": "#111827",
            "text-dark": "#F3F4F6",
            "card-light": "#FFFFFF",
            "card-dark": "#374151",
            "border-light": "#E5E7EB",
            "border-dark": "#4B5563"
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            'source-sans-pro': ['"Source Sans Pro"', 'sans-serif']
          },
          borderRadius: {
            DEFAULT: "0.5rem",
          },
        },
      },
    };
  </script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
<style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
<div class="relative min-h-screen bg-background-light dark:bg-background-dark">
<header class="absolute top-0 left-0 w-full z-10 p-8">
    <div class="container mx-auto flex items-center justify-between">
        <div class="flex items-center">
            <img alt="Portal BIM Alcabama Logo" class="h-8" src="https://i.postimg.cc/ZYCMwq9Z/Portal-BIM-Alcabama-7.png"/>
        </div>
        <div class="flex items-center space-x-4">
            <button id="theme-toggle" aria-label="Cambiar tema" class="text-text-light dark:text-white hover:text-primary"><span class="material-symbols-outlined">dark_mode</span></button>
            <div id="auth-container" class="flex items-center space-x-4"><a href="https://alcabama-commits.github.io/bim/inse.html" class="text-text-light dark:text-white hover:text-primary text-sm font-medium">Iniciar sesión</a></div>
        </div>
    </div>
</header>
<main>
<section class="relative flex min-h-[calc(100vh-6rem)] pt-24">
    <!-- Panel Izquierdo (30%) con color sólido -->
    <div class="w-[30%] bg-[#f6f6f6]">
    </div>
    <!-- Panel Derecho (70%) con imagen -->
    <div class="w-[70%] bg-cover bg-center" style="background-image: url('https://i.postimg.cc/3RNgrPXN/1752525357-ciien-00000-mejora-de-color.png');">
    </div>
</section>
<section class="bg-background-light dark:bg-background-dark py-16 px-8">
<div class="container mx-auto">
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
<div>
<h2 class="text-2xl font-bold mb-4 border-b border-border-light dark:border-border-dark pb-2">Proyectos</h2>
<ul class="space-y-2">
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Arboré</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Blue</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Ciudadela armonía</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Gardenias</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Iris</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">La figeroa</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Madero</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Magnolias</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Orión</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Trevoly</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Ventura</a></li>
</ul>
</div>
<div>
<h2 class="text-2xl font-bold mb-4 border-b border-border-light dark:border-border-dark pb-2">Publicaciones</h2>
<ul class="space-y-2">
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Publicaciones por proyecto</a></li>
</ul>
</div>
<div>
<h2 class="text-2xl font-bold mb-4 border-b border-border-light dark:border-border-dark pb-2">Solicitudes</h2>
<ul class="space-y-2">
<li id="link-solicitud-cde"><a class="hover:text-primary dark:hover:text-primary" href="https://alcabama-commits.github.io/bim/index.html">Solicitud de acceso a CDE</a></li>
</ul>
</div>
<div>
<h2 class="text-2xl font-bold mb-4 border-b border-border-light dark:border-border-dark pb-2">Métricas</h2>
<ul class="space-y-2">
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Auditorías</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Incidencias</a></li>
<li><a class="hover:text-primary dark:hover:text-primary" href="#">Seguimiento de proyectos</a></li>
</ul>
</div>
</div>
</div>
</section>
</main>
<footer class="bg-background-light dark:bg-background-dark py-8 px-8 mt-auto">
<div class="container mx-auto text-center text-gray-500 dark:text-gray-400">
<!-- Logo para modo claro -->
<img alt="Alcabama logo" class="h-8 mx-auto mb-4 dark:hidden" src="https://i.postimg.cc/GmWLmfZZ/Logo-transparente-negro.png"/>
<!-- Logo para modo oscuro -->
<img alt="Alcabama logo" class="h-8 mx-auto mb-4 hidden dark:block" src="https://i.postimg.cc/0yDgcyBp/Logo-transparente-blanco.png"/>
<p class="text-sm">© 2023 Portal BIM Alcabama - Todos los derechos reservados.</p>
</div>
</footer>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const authContainer = document.getElementById('auth-container');
        const userAccount = JSON.parse(sessionStorage.getItem('userAccount'));

        // --- GESTIÓN DE AUTENTICACIÓN ---
        if (userAccount) {
            authContainer.innerHTML = `
                <span class="text-sm font-medium text-text-light dark:text-white">Hola, ${userAccount.name.split(' ')[0]}</span>
                <button id="logout-button" class="text-text-light dark:text-white hover:text-primary text-sm font-medium">Cerrar sesión</button>
            `;
            document.getElementById('logout-button').addEventListener('click', () => {
                sessionStorage.removeItem('userAccount');
                window.location.reload();
            });
        }

        // --- CONTROL DE ACCESO POR USUARIO ---
        if (userAccount) {
            const linkSolicitud = document.getElementById('link-solicitud-cde');
            
            // Lista de usuarios restringidos
            const restrictedUsers = ['alc.spk.1@gmail.com', 'kanatagiraldo@gmail.com'];
            const isRestrictedUser = restrictedUsers.includes(userAccount.username.toLowerCase());

            if (isRestrictedUser) {
                linkSolicitud?.classList.add('hidden');
            } else {
                linkSolicitud?.classList.remove('hidden');
            }
        } else {
            // Si no hay usuario, por defecto ocultamos el enlace
            document.getElementById('link-solicitud-cde')?.classList.add('hidden');
        }

        // --- GESTIÓN DEL TEMA (MODO OSCURO/CLARO) ---
        const themeToggle = document.getElementById('theme-toggle');
        const htmlEl = document.documentElement;

        const applyTheme = (theme) => {
          if (theme === 'dark') {
            htmlEl.classList.add('dark');
            themeToggle.querySelector('.material-symbols-outlined').textContent = 'light_mode';
          } else {
            htmlEl.classList.remove('dark');
            themeToggle.querySelector('.material-symbols-outlined').textContent = 'dark_mode';
          }
        };

        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        applyTheme(savedTheme);

        themeToggle.addEventListener('click', () => {
          const newTheme = htmlEl.classList.contains('dark') ? 'light' : 'dark';
          localStorage.setItem('theme', newTheme);
          applyTheme(newTheme);
        });
    });
</script>
</body></html>
